# TaskManage [RU]

## Уточнение понятий

- Предмет (`Subject`) — в этом файле понимается школьный предмет, учебный предмет.

## Функции класса

### `class TaskManage():`

При создании экземпляра класса, класс не принимает никаких аргументов.

*Пример:*

```py
from backend.taskmanage import TaskManage

TManage = TaskManage()
```

Так мы создали экземпляр класса с названием `TManage`. В экземпляре объявлена переменная `_tasks`, содержащая список `List[dict]` (список заданий), который наполняется словарями `dict` (заданиями).

При создании экземпляра, изначально переменная `_tasks` является пустым списком `list`.

Далее под переменной `_tasks` понимается `список заданий` и при этом `_tasks` относится к экземпляру класса; а под `списком заданий` и `заданиями` будут подразумеваться список словарей `List[dict]` и входящие в него словари `dict` соответственно. Под `экземпляром` понимается экземпляр класса.

### `create_task()`

*Аргументы:*

- `Subject` — предмет;
- `Task` — задача;
- `Date-when-do` — назначенная дата, когда задача должна быть выполнена.

*Возвращает:* `NoneType`.

Из этих аргументов функция создаёт `задание`, которое добавляет в конец `списка заданий`.

*Пример:*

```py
subject = "Math"
task = "p. 1, ex 1, 2, 3."
date = "2025-04-14"

TManage.create_task(subject, task, date)
```

*Результат (содержимое `списка заданий`):*

```py
[
    ...,

    {
        "Subject": "Math",
        "Task": "p. 1, ex 1, 2, 3.",
        "Date-when-do": "2025-04-14"
    }
]
```

### `set_tasks()`

*Аргументы:*

- `tasks` — `список заданий`.

*Возвращает:* `NoneType`.

Замещает внутренний `список заданий` внешним, который указан в аргументе функции (внутренний, значит внутри экземпляра, а внешний даётся аргументом для функции). Устанавливает значение `списку заданий` экземпляра, равное внешнему `списку заданий`.

*Пример:*

```py
new_tasks = [
                ...,

                {
                    "Subject": "Math",
                    "Task": "p. 1, ex 1, 2, 3.",
                    "Date-when-do": "2025-04-14"
                },

                ...
             ]

TManage.set_tasks(new_tasks)
```

*Результат (содержимое `списка заданий` экземпляра):*

```py
[
    ...,

    {
        "Subject": "Math",
        "Task": "p. 1, ex 1, 2, 3.",
        "Date-when-do": "2025-04-14"
    },

    ...
]
```

### `get_all_tasks()`

*Аргументы:*

Нет.

*Возвращает:* `список заданий`.

Если `заданий` не было добавлено, вернёт пустой `список`.

*Пример:*

```py
data = TManage.get_all_tasks()
```

*Результат (содержимое `data`):*

```py
[
    ...,

    {...},

    ...
]
```

### `get_tasks_by_indexes()`

*Аргументы:*

- `tasks_to_get` — кортеж целых чисел, индексов, для получения нужных `заданий` из `списка заданий`.

*Возвращает:* `список заданий`.

Принимает на вход `Tuple[int]` — кортеж целых чисел (в том числе отрицательные числа), числа которого представляют собой индексы `списка заданий`. Возвращает отсортированный `список заданий`, в котором есть только элементы с требуемым индексом.

При этом `список заданий` внутри экземпляра не изменяется.

*Пример:*

```py
indexes = (0, 1, -1)

data = TManage.get_tasks_by_indexes()
```

*Содержимое `списка заданий`:*

```py
[
    {...}, # 0

    {...}, # 1

    {...}, # 2

    {...} # 3
]
```

*Содержимое `data`:*

```py
[
    {...}, # 0

    {...}, # 1

    {...} # 3
]
```

**НО:**

```py
indexes = (0, 1, -1)

data = TManage.get_tasks_by_indexes()
```

**ПРИ:**

```py
[
    {...}, # 0

    {...} # 1
]
```

**ПРИВЕДЕТ К:**

```py
[
    {...}, # 0

    {...}, # 1

    {...} # 1
]
```

**ПОКА НЕ ИСПРАВЛЕН ЭТОТ БАГ С ОТРИЦАТЕЛЬНЫМИ ИНДЕКСАМИ, ИСПОЛЬЗОВАТЬ С ОСТОРОЖНОСТЬЮ!**

### `find_tasks_indexes()`

*Аргументы:*

- `by` — по какому ключу фильтровать `задание`: по `Date` или `Subject`, другого ключа, кроме этих двух, быть не может;
- `value` — значение ключа `by`, по которому нужно отфильтровать `задания` в `списке заданий`.

*Возвращает:* `Tuple[int]` — кортеж целых чисел, индексов `списка заданий`, соответствующих заданному фильтру. Целые числа, возвращаемые в кортеже функции, всегда **неотрицательные**.

Функция фильтрует `задания` из `списка заданий` по заданному ключу `by` и его значению `value`. Возвращает список индексов `списка заданий`, которые удовлетворяют условиям.

*Пример:*

```py
by = "Subject"
value = "Math"

indexes = TManage.find_tasks_indexes(by, value)
```

*Содержимое `списка заданий`:*

```py
[
    {"Subject": "Math", ...}, # 0
    {"Subject": "Geography", ...}, # 1
    {"Subject": "Programming", ...}, # 2
    {"Subject": "Math", ...}, # 3
    {"Subject": "History", ...}, # 4
    {"Subject": "History", ...}, # 5
    {"Subject": "Math", ...} # 6
]
```

*Содержимое `indexes` после фильтрации:*

```py
(0, 3, 6)
```

### `delete_tasks()`

*Аргументы:*

- `tasks_to_delete` — `Tuple[int]` кортеж целых чисел, содержащий индексы `заданий` из `списка заданий`, которые следует удалить.

*Возвращает:* `NoneType`.

*Пример:*

```py
indexes = (0, 1, -1)

TManage.delete_tasks(indexes)
```

*Содержимое `списка заданий` до применения функции `delete_tasks()`:*

```py
[
    {...}, # 0
    {...}, # 1
    {...}, # 2
    {...}, # 3
    {...}, # 4
    {...}, # 5
    {...} # 6
]
```

*Содержимое `списка заданий` после применения функции `delete_tasks()`:*

```py
[
    {...}, # 2
    {...}, # 3
    {...}, # 4
    {...}, # 5
]
```

*И при этом:*

```py
indexes = (0, 1, -1)

TManage.delete_tasks(indexes)
```

*Содержимое `списка заданий` до применения функции `delete_tasks()`:*

```py
[
    {...}, # 0
    {...}, # 1
]
```

*Содержимое `списка заданий` после применения функции `delete_tasks()`:*

```py
[]
```

### `delete_last_task()`

Аргументы:

Нет.

Возвращает: `NoneType`.

Удаляет из `списка заданий` последнее `задание` в списке. Если список пустой, не делает ничего.

Пример:

```py
TManage.delete_last_task()
```

Содержимое `списка заданий` до применения функции:

```py
[
    {...} # 0
    {...} # 1
    {...} # 2
]
```

Содержимое `списка заданий` после применения функции:

```py
[
    {...} # 0
    {...} # 1
]
```

### `clear_tasks()`

Аргументы:

Нет.

Возвращает: `NoneType`.

Полностью обнуляет содержимое `списка заданий`, делая список пустым.

Пример:

```py
TManage.clear_tasks()
```

Содержимое `списка заданий` до применения функции:

```py
[
    {...} # 0
    {...} # 1
    {...} # 2
]
```

Содержимое `списка заданий` после применения функции:

```py
[]
```
